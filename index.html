<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ratambuzza.ar: Rio 2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" href="/favicon.ico">
    <style>
        :root {
            --cream: #f7f2e4;
            --navy: #0d1b2a;
            --label: #4b463f;
            --accent: #0081a7;
            --ink: #111;
            --shadow: rgba(0, 0, 0, 0.5);
        }

        /* Base */
        html,
        body {
            margin: 0;
            height: 100%;
        }

        body {
            font-family: 'Press Start 2P', system-ui, sans-serif;
            color: white;
            background: black;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Left side (image) */
        .left {
            width: 50%;
            height: 100%;
            background-image: url('assets/copa.jpg');
            background-size: cover;
            background-position: center;
            flex: 0 0 50%;
        }

        /* Right side (content) */
        .right {
            width: 50%;
            height: 100%;
            background: var(--cream);
            color: black;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
            box-sizing: border-box;
            overflow: auto;
        }

        h1 {
            margin: 0 0 1rem 0;
            font-size: 2rem;
            color: var(--navy);
            text-align: center;
        }

        h5 {
            color: var(--label);
            margin: 0.5rem 0 0;
        }

        #title {
            text-align: center;
        }

        #countdown {
            font-size: 1.5rem;
            margin-top: 20px;
            color: var(--accent);
            line-height: 1.6rem;
            transform: translateZ(0);
            -webkit-font-smoothing: none;
            image-rendering: pixelated;
        }

        #avatars {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            padding: 2rem 1rem;
        }

        .avatar-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            user-select: none;
            text-decoration: none;
            outline: none;
        }

        .avatar {
            width: 120px;
            height: 120px;
            transition: transform 120ms ease;
            image-rendering: pixelated;
        }

        .avatar-container:hover .avatar {
            transform: scale(1.04);
        }

        .avatar-container:focus-visible .avatar {
            outline: 3px solid var(--accent);
            outline-offset: 4px;
        }

        /* --- Mobile --- */
        @media (max-width: 800px) {
            body {
                flex-direction: column;
                height: auto;
                overflow: auto;
            }

            .left {
                width: 100%;
                height: 50vh;
                flex: 0 0 auto;
            }

            .right {
                width: 100%;
                min-height: 50vh;
                height: auto;
                overflow: visible;
                padding: 1.25rem;
            }

            .avatar {
                width: 90px;
                height: 90px;
            }

            #countdown {
                font-size: 1rem;
                line-height: 1.2rem;
            }
        }

        /* ====== PERSON DIALOG ====== */
        .dialog-overlay {
            position: fixed;
            inset: 0;
            background: var(--shadow);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .dialog-overlay[aria-hidden="false"] {
            display: flex;
        }

        .person-dialog {
            max-height: 90vh;
            overflow: auto;
            background: var(--cream);
            color: var(--ink);
            max-width: min(720px, 92vw);
            width: 680px;
            box-sizing: border-box;
            padding: 1.25rem;
            position: relative;
            /* chunky pixel-style frame */
            box-shadow:
                0 0 0 4px #111,
                0 0 0 8px #fff,
                0 0 0 12px #111,
                12px 12px 0 0 rgba(0, 0, 0, 0.25);
            border-radius: 0;
            /* keep it chiptune */
            image-rendering: pixelated;
        }

        .person-dialog header {
            display: flex;
            /* align-items: center; */
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .person-dialog h2 {
            margin: 0;
            font-size: 1.25rem;
            color: var(--navy);
        }

        .dlg-avatar {
            width: 180px;
            height: 180px;
            flex: 0 0 auto;
            image-rendering: pixelated;
            border: 4px solid #111;
            background: #fff;
        }

        .dlg-body {
            display: grid;
            /* grid-template-columns: 1fr 1.2fr; */
            gap: 1rem;
        }

        #dlgBio {
            line-height: 1.6;
            margin: 0;
            text-align: left;

        }

        .kv-grid {
            display: grid;
            grid-template-columns: max-content 1fr;
            gap: .5rem 1rem;
            align-content: start;
            padding: .75rem;
            background: #fff;
            border: 4px solid #111;
        }

        .kv-key {
            color: var(--label);
        }

        .kv-val {
            color: var(--ink);
        }

        .dlg-actions {
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: .5rem;
        }

        .btn {
            font-family: 'Press Start 2P', system-ui, sans-serif;
            font-size: .8rem;
            background: var(--accent);
            color: #fff;
            border: 0;
            padding: .6rem .9rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #0b5c72;
            text-transform: uppercase;
        }

        .btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #0b5c72;
        }

        .dlg-close {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #111;
            color: #fff;
            border: 0;
            cursor: pointer;
            width: 32px;
            height: 32px;
            line-height: 32px;
            text-align: center;
            font-size: 1rem;
        }

        @media (max-width: 800px) {
            .person-dialog {
                width: 92vw;
                padding: 1rem;
            }

            .person-dialog header {
                flex-direction: column;
                /* row -> column */
                align-items: center;
                /* center the avatar */
                text-align: left;
                /* keep paragraph left-aligned */
                gap: .75rem;
            }

            .dlg-body {
                grid-template-columns: 1fr;
            }

            .dlg-avatar {
                width: 180px;
                /* a touch larger looks better on mobile */
                height: 180px;
                margin-bottom: .25rem;
            }

            #dlgBio {
                line-height: 1.6;
                margin: 0;
                max-width: 42ch;
                /* comfortable measure on phones */
            }

            .dlg-actions {
                justify-content: center;
                /* center the CLOSE button on mobile */
            }

            .btn {
                font-size: .7rem;
            }
        }
    </style>
</head>

<body>
    <div class="left"></div>

    <div class="right">
        <div id="title">
            <h1>RIO 2025</h1>
            <div id="countdown"><span id="timer"></span></div>
        </div>

        <div id="avatars">
            <div class="avatar-container" data-person="Afro" aria-haspopup="dialog">
                <img src="assets/avatars/Afro.png" alt="Afro" class="avatar" />
                <h5>Afro</h5>
            </div>

            <div class="avatar-container" data-person="Alefa" aria-haspopup="dialog">
                <img src="assets/avatars/Alefa.png" alt="Alefa" class="avatar" />
                <h5>Alefa</h5>
            </div>

            <div class="avatar-container" data-person="Boli" aria-haspopup="dialog">
                <img src="assets/avatars/Boli.png" alt="Boli" class="avatar" />
                <h5>Boli</h5>
            </div>

            <div class="avatar-container" data-person="Butis" aria-haspopup="dialog">
                <img src="assets/avatars/Butis.png" alt="Butis" class="avatar" />
                <h5>Butis</h5>
            </div>

            <div class="avatar-container" data-person="Charly" aria-haspopup="dialog">
                <img src="assets/avatars/Charly.png" alt="Charly" class="avatar" />
                <h5>Charly</h5>
            </div>

            <div class="avatar-container" data-person="Depo" aria-haspopup="dialog">
                <img src="assets/avatars/Depo.png" alt="Depo" class="avatar" />
                <h5>Depo</h5>
            </div>

            <div class="avatar-container" data-person="Firulais" aria-haspopup="dialog">
                <img src="assets/avatars/Firulais.png" alt="Firulais" class="avatar" />
                <h5>Firulais</h5>
            </div>

            <div class="avatar-container" data-person="Látigo" aria-haspopup="dialog">
                <img src="assets/avatars/Latigo.png" alt="Látigo" class="avatar" />
                <h5>Látigo</h5>
            </div>

            <div class="avatar-container" data-person="Marian" aria-haspopup="dialog">
                <img src="assets/avatars/Mariano.png" alt="Marian" class="avatar" />
                <h5>Marian</h5>
            </div>

            <div class="avatar-container" data-person="Patas" aria-haspopup="dialog">
                <img src="assets/avatars/Patas.png" alt="Patas" class="avatar" />
                <h5>Patas</h5>
            </div>

            <div class="avatar-container" data-person="Pato" aria-haspopup="dialog">
                <img src="assets/avatars/Pato.png" alt="Pato" class="avatar" />
                <h5>Pato</h5>
            </div>

            <div class="avatar-container" data-person="Sanchez" aria-haspopup="dialog">
                <img src="assets/avatars/Sanchez.png" alt="Sanchez" class="avatar" />
                <h5>Sanchez</h5>
            </div>

            <div class="avatar-container" data-person="Topo" aria-haspopup="dialog">
                <img src="assets/avatars/Topo.png" alt="Topo" class="avatar" />
                <h5>Topo</h5>
            </div>
        </div>
    </div>

    <!-- Dialog -->
    <div class="dialog-overlay" id="personOverlay" aria-hidden="true">
        <div class="person-dialog" role="dialog" aria-modal="true" aria-labelledby="dlgTitle">
            <!-- <button class="dlg-close" id="dlgClose" aria-label="Close dialog">✖</button> -->
            <header>
                <img id="dlgAvatar" class="dlg-avatar" alt="">
                <!-- <div>
                    <h2 id="dlgTitle">Name</h2>
                </div> -->
                <div>
                    <p id="dlgBio"></p>
                </div>
            </header>

            <!-- <div class="dlg-body">
                <div class="kv-grid" id="kvGrid"> -->
            <!-- key:value rows injected here -->
            <!-- </div> -->
            <!-- <div class="kv-grid">
          <div class="kv-key">Status</div><div class="kv-val" id="kvStatus">Ready</div>
          <div class="kv-key">Role</div><div class="kv-val" id="kvRole">Adventurer</div>
          <div class="kv-key">Catchphrase</div><div class="kv-val" id="kvCatch">“Vamo’ arriba”</div>
          <div class="kv-key">Fav Drink</div><div class="kv-val" id="kvDrink">Caipirinha</div>
        </div> -->
            <!-- </div> -->

            <div class="dlg-actions">
                <button class="btn" id="dlgCloseBottom">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Countdown logic
        const countdown = document.getElementById('timer');
        const targetDate = new Date("2025-10-08T00:00:00");

        function updateCountdown() {
            const now = new Date();
            const diff = targetDate - now;

            if (diff <= 0) { countdown.textContent = "Estamos en Rio!"; return; }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            countdown.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }
        updateCountdown();
        setInterval(updateCountdown, 1000);

        // ===== Person data (stub – tweak freely) =====
        // Use short keys you like; UI capitalizes keys as given.
        const PEOPLE = {
            "Afro": {
                avatar: "assets/avatars/Afro.png",
                traits: {
                    "Otros apodos:": "Gusano",
                    "Talento:": "No ronca.",
                    "Superpoder:": "Fundir restaurantes."
                },
                bio: "También conocido como 'Gusano' desde chico anheló el sueño Americano. Su talento más grande es no roncar a pesar del nazo que tiene. Su último gran logro? Fundir un restaurant."
            },
            "Alefa": {
                avatar: "assets/avatars/Alefa.png",
                traits: {
                    "Otros apodos:": "Osketti",
                    "Superpoder:": "Te festeja todos los chistes.",
                    "Secreto:": "Es novio de Palermo."
                },
                bio: "También conocido como Oscar, es el público ideal porque te festeja todos los chistes. Vive atormentado por una pesadilla recurrente en donde una pala lo persigue para trabajar en el jardín de la casa de su familia en Pinamar."
            },
            "Boli": {
                avatar: "assets/avatars/Boli.png",
                traits: {
                    "Nombre completo:": "Mónica Brenta Depilación",
                    "Master en:": "Chistes de gangosos",
                    "Talento:": "El helicóptero",
                },
                bio: "Es dueño de una cadena de locales de depilación definitiva. Lo llaman el J.R.R Tolkien de Villa Sarmiento por su capacidad para bolasear. Posee un conocimiento enciclopédico de chistes de gansosos."
            },
            "Butis": {
                avatar: "assets/avatars/Butis.png", traits: { "Superpoder:": "Es la rata más grande", "Talento:": "Tiene el puño más cerrado que un bebé.", "Nunca dijo:": "Vayamos a gastar dinero. " },
                bio: "La rata más grande del condado, tiene el puño más cerrado que un bebé. Prefiere perder un brazo antes que pagar un sobreprecio. Es capaz de sobrevivir varios días internado en una montaña nevada alimentándose de un sánguche. "
            },
            "Charly": { avatar: "assets/avatars/Charly.png", traits: { "Otros apodos:": "Carlitos", "Superpoder:": "Consigue las mejores achuras del universo.", "Nunca dijo:": "Nada. No emite palabra desde 1993." }, bio: "El dealer de achuras oficial del grupo. Sus mollejas de corazón no tienen rival. Frase que nunca dijo: todas. No pronuncia palabra desde 1993." },
            "Depo": { avatar: "assets/avatars/Depo.png", traits: { "Otros apodos:": "Dr.G, Antreli, Galmácido.", "Talento:": "Come telas de arañas.", "En otra vida fue:": "Steve-O de Jackass y Ozzy Osbourne." }, bio: "También conocido como: Antreli, Galmácido o Dr. G.\n\r Si Steve-O de Jackass y Ozzy Osbourne hubieran tenido un hijo, sería Albertito. Ahora es un padre de familia pero en sus años mozos, supo tranzarse una bolsa de basura." },
            "Firulais": { avatar: "assets/avatars/Firulais.png", traits: { "Superpoder": "Gigoló", "Power‑Up": "QA humano", "Nunca dijo:": "No puedo, tengo que trabajar." }, bio: "Bom-vivant sin igual. Es el último gourmand. En una picada preparada por él, hay quesos de los 5 continentes y mortadela hecha con carne de unicornio. Frase que nunca dijo: 'No puedo irme de viaje, tengo que trabajar.'" },
            "Látigo": { avatar: "assets/avatars/Latigo.png", traits: { "Origen": "CABA", "Power‑Up": "Narrador", "Talento": "Resumen en 30s", "Team": "Mate amargo" }, bio: "Hechicero oficial del grupo. Durante muchos años de su vida buscó maneras de no tener que trabajar pero fracasó rotundamente. Tiene muy buenos trucos pero el gran milagro que nadie explica es como una mujer 14 años menor que él le terminó dando bola." },
            "Marian": { avatar: "assets/avatars/Mariano.png", traits: { "Origen": "Mendoza", "Power‑Up": "GPS interno", "En un día puede:": "Escribir un libro, viajar a china, sacarle un pepino del orto a un paciente.", "Nadie sabe como:": "Todavía no lo rajaron de la casa." }, bio: "Hiperactivo como nadie. En un mismo día el doctor es capaz de: escribir un libro, viajar a china, sacarle un pepino del culo a un paciente. Hace poco rompió el record de mayor cantidad de días consecutivos de permanencia en su casa: 3." },
            "Patas": { avatar: "assets/avatars/Patas.png", traits: { "Origen": "Tandil", "Power‑Up": "Cocinero", "Talento": "Sartenazo perfecto", "Team": "Caipiroska" }, bio: "Titán de las finanzas, empresario sin igual. Comenzó bien abajo limpiando baños en Constitución. Un buen día tuvo la idea de crear sus propios productos de limpieza y el resto es historia. Borracho." },
            "Pato": { avatar: "assets/avatars/Pato.png", traits: { "Origen": "San Isidro", "Power‑Up": "Cambio exacto", "Talento": "Regatea sonriendo", "Team": "Chope helado" }, bio: "Piloto enduro, empresario gastronómico, modelo publicitario. Otro que ya no sabe que hacer para rajarse de la casa. Compite cabeza a cabeza con Butis a ver quién tiene más alma de roedor." },
            "Sanchez": { avatar: "assets/avatars/Sanchez.png", traits: { "Origen": "Neuquén", "Power‑Up": "Memoria prodigio", "Talento": "Citas textuales", "Team": "Café con leche" }, bio: "Influencer de redes sociales en el mundo de bienes raíces. Lo llaman 'El hacedor' o 'El Grinch'. Nunca vendió un departamento y publica un video cada 3 meses pero igual le tenemos fé." },
            "Topo": { avatar: "assets/avatars/Topo.png", traits: { "Origen": "Lomas", "Lo llevamos porque:": "Hace buenos desayunos.", "Superpoder": "Correr sin doblar las rodillas." }, bio: "No expresa sus sentimientos, la única vez que derramó una lágrima fue porque la policía lo gaseó en la cancha de Boca. El día que correr sin doblar las rodillas sea un deporte olímpico, este pibe va a estar a la altura de Husain Bolt." }
        };

        // ===== Dialog wiring =====
        const overlay = document.getElementById('personOverlay');
        // const dlgClose = document.getElementById('dlgClose');
        const dlgCloseBottom = document.getElementById('dlgCloseBottom');
        const dlgAvatar = document.getElementById('dlgAvatar');
        const dlgTitle = document.getElementById('dlgTitle');
        const kvGrid = document.getElementById('kvGrid');
        const dlgBio = document.getElementById('dlgBio');
        let lastFocus = null;

        function openDialog(personName) {
            const data = PEOPLE[personName];
            if (!data) return;

            dlgAvatar.src = data.avatar;
            dlgAvatar.alt = personName;
            // dlgTitle.textContent = personName;
            dlgBio.textContent = data.bio;
            // wipe + rebuild kv grid

            // kvGrid.innerHTML = '';
            // Object.entries(data.traits).forEach(([k, v]) => {
            //     const key = document.createElement('div');
            //     key.className = 'kv-key'; key.textContent = k;
            //     const val = document.createElement('div');
            //     val.className = 'kv-val'; val.textContent = v;
            //     kvGrid.appendChild(key); kvGrid.appendChild(val);
            // });

            lastFocus = document.activeElement;
            overlay.setAttribute('aria-hidden', 'false');
            // focus close button for accessibility
            // dlgClose.focus();
            document.addEventListener('keydown', onKeydown);
            // prevent body scroll behind dialog (desktop already fixed, mobile needs this)
            document.body.style.overflow = 'hidden';
        }

        function closeDialog() {
            overlay.setAttribute('aria-hidden', 'true');
            document.removeEventListener('keydown', onKeydown);
            document.body.style.overflow = ''; // restore
            if (lastFocus && lastFocus.focus) lastFocus.focus();
        }

        function onKeydown(e) {
            if (e.key === 'Escape') closeDialog();
            // very light focus trap: loop close buttons
            if (e.key === 'Tab') {
                const focusables = [dlgCloseBottom];
                const idx = focusables.indexOf(document.activeElement);
                if (idx === -1) return;
                e.preventDefault();
                const next = e.shiftKey ? (idx - 1 + focusables.length) % focusables.length
                    : (idx + 1) % focusables.length;
                focusables[next].focus();
            }
        }

        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) closeDialog();
        });
        // dlgClose.addEventListener('click', closeDialog);
        dlgCloseBottom.addEventListener('click', closeDialog);

        // Delegate clicks from grid of avatars
        document.getElementById('avatars').addEventListener('click', (e) => {
            const btn = e.target.closest('.avatar-container');
            if (!btn) return;
            const person = btn.getAttribute('data-person');
            if (person) openDialog(person);
        });

        // Keyboard support on avatars
        document.querySelectorAll('.avatar-container').forEach(el => {
            el.setAttribute('tabindex', '0');
            el.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    const person = el.getAttribute('data-person');
                    if (person) openDialog(person);
                }
            });
        });
    </script>
</body>

</html>